<div class="row">
       
        <div class="col-lg-12 text-center v-center">
          
          <h1>Download</h1>
          <p class="lead">A link should appear when your file finishes proccessing</p>


<script>
var timerForLoadingResult=  setInterval(checkServerForFile,1000);//call the fnction in every 1 seconds.write ajax in that function.

function checkServerForFile() {
  $.ajax({
    type: "POST",
    cache: false,
    url: "/getFile/<%=@download_filename%>",
    success: function (result) {
      $("#download_link").show();
      alert("file is done compiling!");
      clearInterval(timerForLoadingResult);        // clear timer
    }
  });
}

window.onload = function() {
  checkServerForFile();
  $("#download_link").hide();
};
</script>
<br><br><br>

<h1>Download your file here: <a id="download_link" href="/<%=@download_filename%>" download> Download </a></h1>

</div>
</div>




